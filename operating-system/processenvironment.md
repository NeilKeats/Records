# 进程环境

## 进程执行与退出



## 存储空间布局

1. **正文段**，由CPU执行的机器指令。通常是可共享的，在存储器只有一个副本，只读。
2. **初始化数据段**，包含了程序中需要明确地赋予初值的变量。

3. **非初始化数据段**，又称BSS段\(block started by symbol\)，在程序执行之前将此段数据初始化为0或空指针。

4. **栈**，自动变量以及每次函数调用所保存的信息都存放在此段中。每次调用函数时，调用者的环境信息（如寄存器）和返回地址都存放在栈中。然后，在栈上为最近被调用的函数的分配自动和变量的存储空间。每次调用，使用一个新的栈帧。

5. **堆**，在堆中进行动态内存分配。（由于历史原因处于BSS段和栈之间）

## 共享库

执行文件中不需要包含库例程，只需要在可引用存储器中维护一个副本。

在第一次执行或第一次调用某个库函数时，使用**动态链接**方法将程序与共享库函数相连接。

减少可执行文件长度，但增加时间开销，另外好处是在更新库函数时无需重新链接程序。

