# 语句 statement

## 空语句

```
;//空语句
```

## 复合语句

花括号括起来的语句和声明序列，也成为块

## 范围for

不能通过范围for向vector等对象增加元素，因为预存了end的值，可能失效。

```cpp
    for (auto &r : v)
        r *= 2;
    //等价于
    for(auto beg = v.begin(), end=v.end(); beg!= end; ++beg){
        auto &r = *begin;
        r *= 2;
    }
```

## try语句

```cpp
    try{
        program-statements
    } catch (exception-declaration){
        handler-statements
    } catch (exception-declaration){
        handler-statements
    } //..
```

---

# 函数

* **形参**（parameter）
* **实参**（argument）：形参的初始值，实参求值顺序不规定。
* **调用运算符**（call operator）: `()`
* **函数调用**完成两项工作
  1. 用实参初始化形参（隐式定义并初始化
  2. 将控制权转交给被调用函数（主函数此时被暂时中断）。
* **return语句**结束函数执行过程，完成两个工作：
  1. 返回return语句中的值（若有）
  2. 将控制权从被调函数转回主调函数。不能返回数组、函数，但可以返回指向数组或者函数的指针

## 局部对象与生命周期

**名字**有**作用域**（在其中可见）

**生命周期**是该对象存在的一段时间

**局部对象**：形参、函数体内部定义的变量，为局部对象（local variable）

* **自动对象**：函数控制路径经过变量定义语句时创建，块尾部销毁。只存在于块控制期间的对象为自动对象。形参为实参初始化的自动对象，对于自动对象若无初始值则默认初始化。
* **局部静态对象**（Local static object）：生命周期贯穿函数调用及之后的时间。在执行路径第一次经过对象定义语句时初始化，程序结束时销毁。

## 分离式编译

* 修改了其中一个源文件，只需要重新编译那个改动了的文件。产生后缀为.obj\(Win\)或.o\(UNIX\)的文件，含义为该文件包含对象代码\(object code\)。
* 编译器将对象文件链接成可执行文件

## 参数传递

* 实参对形参初始化。形参为引用类型，则绑定到对应实参（**引用传递**）；
* 否则值拷贝后赋值给形参（**值传递**）。

### const形参和实参

实参**初始化**形参时**忽略顶层const**。形参为const时，传给它常量或非常量都可以。

```cpp
void fcn(const int i) {}
void fcn(int i){} //错误，重复定义func(int)
```

虽然函数可以重载，但是**形参列表**应该有区别。上述两个函数参数可以完全一样，因此第二个定义有错。（guess：顶层const无法重载.？）

### 指针或引用形参与const

* 可以用非常量初始化底层const，反之不行。
* 只有**引用传递**和**指针传递**可以用是否加**const**来重载。

### 尽量使用常量引用

* 传入参数限制：无法传入const对象。
* 适应性：其他函数正确定义const引用，但非常量引用的函数无法在其中调用

### 数组形参

			数组特点：不允许拷贝数组、使用时通常转换为指针

			无法值传递，传递时数组会被转换为指针，数组大小无影响。

			形参可写为：

```cpp
    void print(const int*);

    void print(const int[]);

    void print(const int[10]); //表示期望数组的元素数目，但实不一定如此
```

			上述三个函数等价，形参都为 const int\*，传入时只检查参数是否为const int \*。

			

			·指定大小

				用标记指定数组结束，如字符数组的'\0'，读到表示数组结束

				使用标准库规范：传入数组首元素、尾后元素的指针

				显式传递数组大小：

				

			·数组形参和const

				变量（形参）可定义为数组的引用。

```cpp
    //正确：形参是数组的引用，维度是类型的一部分

    void print(int (&arr)[10]){

        for (auto elem : arr)

            cout<< elem << endl;

    }



    //&arr两端括号不可省略

    f(int &arr[10]); //错误，arr声明为引用的数组

    f(int (&arr)[10]); 
```

				

				数组大小是构成数组类型的一部分，不超过维度都可在函数体内使用。

				

				多维数组

					C++没有真正意义的多维数组，是数组的数组。

					传递多维数组时，传递的是指向数组首元素的指针。

```cpp
    //matrix指向数组的首元素，该数组的元素是由10个整数构成的数组。matrix括号不可忽略！
    void print(int (*matrix)[10], int rowSize){};
```

					

					也可以使用数组语法定义，第一个维度会被忽略因此不适宜放在形参列表中

```cpp
    //等价定义
    void print(int matrix[][10], int rowSize){};
```



